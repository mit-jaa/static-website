## Pre-reqs
- Install Hugo
- Install node

## Start the server locally
`hugo server`

## Themes
If you have trouble accessing the themes, you may need to pull in the git submodules:
`git submodule add https://github.com/cncf/dot-org-hugo-theme.git themes/dot-org-hugo-theme`
`git submodule add  https://github.com/anvithks/hugo-embed-pdf-shortcode.git themes/hugo-embed-pdf-shortcode`

## Folder structure
For more info, please read the Hugo docs. Here is how we are currently using the folders and what to expect.
- archetypes
    - currently unused (would be great to add open letter templates in the future!)
- assets
    - the bulk of the css files
        - most are copied from the dot-org theme to override the css more freely
- config
    - hugo config files
        - includes configs for the navbar
- content
    - our markdown files that hugo renders into html
- data
    - unused (if we had json data or something similar, we would store it here)
- i18n
    - unused (would be cool to set up translation for hebrew!)
- layouts
    - these files let us customize the html structure of our markdown files in the content dir
    - some of the files are direct copies from dot-org allowing for some layout overrides
- node_modules
    - dot-org theme uses node, this directory stores the contents of node packages. ignore.
- public
    - generated by hugo. Do NOT work in this directory
- resources
    - hugo maintained, ignore
- static
    - files such as images or js
- themes
    - contents of hugo themes, currently managed with git submodules

## Search index

(copied from dot-org-hugo-theme README)

[Pagefind](https://pagefind.app/) can be used to search the contents of your site. We include a search.html in the theme that is already set up. The search and results UI can also be inserted into any page using the [shortcode](#search-form). For Pagefind to work, the pagefind index must be built from the files in your `public` directory. First, make sure your site it built, and then install pagefind and index the site:

```
npm run build
npx -y pagefind --site public
```

Every time your content is updated, you need to update the search index by again running `npx -y pagefind --site public`, so this should be part of your deployment process.

## Update themes
`git submodule update --remote --merge`

## Updates / Thoughts
- do we still need the privacy policy?
    - review content

- Home page
    - highlight a few initiatives / issues / accomplishments
    - direct link to most important action item

- Historical Background first two paragraphs should be highlighted on an about page or the home page

- update summaries for content pages

- add images for our content pages

- setup prettier to keep our code tidy

## Issues
- if editing a page using the hugo-embed-pdf-shortcode theme, the PDF will fail to display on the server automatic reload.
    - solution: simply stop and start the server manually in your terminal, and then do a manual page refresh